[supervisord]
nodaemon=true
pidfile=/tmp/supervisord.pid  ; Moved PID file to a writable location
logfile=/dev/null
logfile_maxbytes=0
loglevel=info
stdout_logfile=/dev/stdout
stdout_logfile_maxbytes=0
stderr_logfile=/dev/stderr
stderr_logfile_maxbytes=0

[program:fluentd]
command=/usr/local/bundle/bin/fluentd -c /fluentd/etc/fluent.conf
environment=PATH="/opt/venv/bin:%(ENV_PATH)s"
user=fluent
autostart=true
autorestart=true
stdout_logfile=/dev/stdout
stdout_logfile_maxbytes=0
stderr_logfile=/dev/stderr
stderr_logfile_maxbytes=0

[program:cron]
command=/usr/sbin/cron -f -p /fluentd/cron/crond.pid
user=fluent
autostart=true
autorestart=true
stdout_logfile=/dev/stdout
stdout_logfile_maxbytes=0
stderr_logfile=/dev/stderr
stderr_logfile_maxbytes=0
